<form [formGroup]="form">
  <div class="mb-3">
    <label class="form-label">Member Search</label>
    <div class="position-relative">
      <small style="color:red">{{errorMessage()}}</small>
      <input type="text" name="searchKeyword" class="form-control pe-5" formControlName="searchKeyword"
        placeholder="Search..." />

      <!-- Spinner overlay -->
      <div *ngIf="loading()" class="position-absolute top-50 end-0 translate-middle-y me-2">
        <div class="spinner-border spinner-border-sm text-secondary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>
    </div>
    <div class="result">
      @for (user of unassignedUsers(); track $index) {
      <div class="data-row d-flex justify-content-between">{{user.firstName +
        " " +user.lastName + " " +user.id}} <i class="bi bi-plus-circle-fill" style="color:green"
          (click)="addMemberToArray(user)"></i></div>
      }

    </div>
  </div>
</form>

<div class="mb-3">
  <!-- Responsive wrapper -->
  <div class="table-responsive">
    <table class="table table-striped table-bordered align-middle">
      <thead class="table-dark">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Name</th>
        </tr>
      </thead>
      <tbody>
        @for (member of membersToBeAdded.value; track $index) {
        <tr>
          <td>{{member.userId}}</td>
          <td>{{member.fullName}}</td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>